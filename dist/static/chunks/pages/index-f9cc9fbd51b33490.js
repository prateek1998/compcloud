(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(1684)}])},1684:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var r=s(5893),a=s(7294),l=()=>(0,r.jsxs)("header",{className:"",children:[(0,r.jsx)("h2",{className:"font-agua text-primary-700 text-5xl font-bold",children:"CompCloud"}),(0,r.jsxs)("p",{className:"text-gray-600 mt-3 text-md",children:[" ","A simple solution to optimize your images and easy upload to S3 Bucket."]})]}),i=s(5675),n=s.n(i),o=s(1664),d=s.n(o),c=s(6154),m=s(8901),x=s(8193),h=s(2920);let u=e=>{let{title:t,msg:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"toastify-header",children:(0,r.jsx)("div",{className:"title-wrapper",children:(0,r.jsxs)("h6",{className:"toast-title",children:[t,"!"]})})}),(0,r.jsx)("div",{className:"toastify-body",children:(0,r.jsx)("span",{role:"img","aria-label":"toast-text",children:s})})]})};var p=(e,t,s)=>{let a;let l=e.toLowerCase();switch(l){case"success":default:h.Am.success((0,r.jsx)(u,{title:e,msg:t}),{hideProgressBar:!0});break;case"error":h.Am.error((0,r.jsx)(u,{title:e,msg:t}),{hideProgressBar:!0});break;case"warning":h.Am.warning((0,r.jsx)(u,{title:e,msg:t}),{hideProgressBar:!0});break;case"info":h.Am.info((0,r.jsx)(u,{title:e,msg:t}),{hideProgressBar:!0});break;case"loading":a=h.Am.loading((0,r.jsx)(u,{title:e,msg:t}),{hideProgressBar:!0});break;case"update":h.Am.update(s,{render:t,type:"success",isLoading:!1,hideProgressBar:!0,autoClose:1e3})}return a};function g(e){let{children:t,variant:s,classNames:a,onClick:l}=e;return"outlined"===s?(0,r.jsx)("button",{className:" ".concat(a&&a," cursor-pointer rounded-md border-2 border-solid text-primary-600 border-primary-600 hover:bg-primary-600 px-4 py-2 text-base hover:text-white transition-all duration-300 ease-in-out"),onClick:l,children:t}):(0,r.jsx)("button",{className:" ".concat(a&&a,"\n        cursor-pointer rounded-md border-2 border-solid border-primary-600 bg-primary-600 text-white hover:bg-transparent px-4 py-2 text-base hover:text-primary-600 transition-all duration-300 ease-in-out"),onClick:l,children:t})}function f(e){let{message:t,children:s}=e;return(0,r.jsxs)("div",{className:"group relative flex",children:[s,(0,r.jsx)("span",{className:"absolute top-0 left-16 scale-0 transition-all rounded bg-gray-800 p-2 text-xs text-white group-hover:scale-100",children:t})]})}let b=[{label:"Webp",value:"webp"},{label:"Png",value:"png"},{label:"Jpg",value:"jpg"}];var j=()=>{let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)("webp"),[i,o]=(0,a.useState)("10"),h=(0,a.useCallback)(async e=>{let r=[],a=p("loading","Please wait...");for(let t=0;t<e.length;t++){let a=e[t],l=new FormData;l.append("images",a),l.append("fileExt",s),l.append("fileQuality",i);let{data:n}=await c.Z.post("/api/upload",l).catch(e=>console.log("err",e));n.success&&(a.newSize=n.data.finalSize,a.filePath=n.data.filePath,a.fileUrl="api/download/"+n.data.filePath.split("\\")[1]),r.push(a)}p("update","Files converted successfully",a),t(r)},[s,i]),u=(0,a.useCallback)(async e=>{p("Error",e[0].errors[0].message)},[]),{isDragActive:j,getRootProps:v,getInputProps:y}=(0,m.uI)({onDropAccepted:h,onDropRejected:u,accept:{"text/image":[".jpeg",".jpg",".png",".gif",".svg"]}}),N=e=>e.type.startsWith("image")?(0,r.jsx)("img",{width:90,alt:e.name,className:"rounded-xl border-solid border-white-300 border-2 ",src:URL.createObjectURL(e)}):(0,r.jsx)("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",height:"1em",width:"1em",children:(0,r.jsx)("path",{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"})}),w=(s,r)=>{let a=e.map(e=>(e.filePath===s&&(e.fileLocation=r),e));t(a)},k=async e=>{let t={filePath:e.filePath},s=p("loading","Please wait file uploading..."),{data:r}=await c.Z.post("/api/upload/cloud",t).catch(e=>console.log("err",e));r.success&&(w(r.data.path,r.data.location),p("update","Files Uploaded successfully",s))},C=e=>Math.round(e/100)/10>1e3?"".concat((Math.round(e/100)/1e4).toFixed(1)," mb"):"".concat((Math.round(e/100)/10).toFixed(1)," kb"),P=(e,t)=>((e-t)/e*100).toFixed(2),z=e.map(e=>{var t;return(0,r.jsx)("li",{className:"border-2 border-gray-200 rounded-lg list-none p-3 ",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex mr-3 h-[70px]",children:N(e)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"font-medium text-gray-600",children:["File Name: ",e.name]}),(0,r.jsxs)("h2",{className:"text-gray-500 text-md",children:["Original Size: ",C(e.size)]}),(0,r.jsxs)("h2",{className:"text-gray-500 text-md",children:["New Size: ",C(e.newSize)]}),(0,r.jsxs)("h2",{className:"text-gray-500 text-md",children:["Compress:"," ",(0,r.jsxs)("span",{className:"font-bold ",children:[P(e.size,e.newSize),"% "]})]})]}),(0,r.jsx)("div",{className:"rounded-full flex flex-grow justify-end  ",children:(0,r.jsxs)("div",{className:"flex flex-col justify-items-center text-center",children:[(0,r.jsx)(f,{message:"Download!",children:(0,r.jsx)(g,{classNames:"flex justify-center",onClick:()=>window.location.href=e.fileUrl,children:(0,r.jsx)(x.RFS,{size:"1.25rem"})})}),(null===(t=e.fileLocation)||void 0===t?void 0:t.length)?(0,r.jsx)(f,{message:"Copy Link",children:(0,r.jsx)(g,{classNames:"bg-blue-700 border-blue-600 hover:border-blue-500 mt-3",onClick:()=>{p("Info","Link Copied "),navigator.clipboard.writeText(e.fileLocation)},children:(0,r.jsx)(x.uFt,{size:"1.25rem"})})}):(0,r.jsx)(f,{message:"Upload to S3 Bucket!",children:(0,r.jsx)(g,{classNames:"bg-blue-700 border-blue-600 hover:border-blue-500 mt-3",onClick:()=>k(e),children:(0,r.jsx)(x.IEK,{size:"1.25rem"})})})]})})]})},e.name)});return(0,r.jsxs)("main",{className:"mb-auto mt-2 px-6 py-4 bg-white rounded overflow-hidden shadow-lg",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row pb-4 justify-between ",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-xl text-gray-700 mb-2",children:"Upload Multiple Files"}),(0,r.jsx)("p",{className:"text-gray-700 text-sm",children:"Note: Allowed *.jpeg, *.jpg, *.png, *.gif"})]}),(0,r.jsxs)("div",{className:"flex items-center pt-3 md:pt-0 items-center justify-center",children:[(0,r.jsx)("div",{className:"font-medium mr-1 text-xl text-gray-700 mb-2 pt-2",children:"Quality:"}),(0,r.jsx)("input",{type:"number",min:"0",max:"100",value:i,onChange:e=>o(e.target.value),className:"border-2 border-primary-500 rounded-md text-primary-700 bg-primary-300 focus:outline-0 px-1 mr-2 py-2 font-bold"}),(0,r.jsx)("div",{className:"font-medium mr-5 text-xl text-gray-700 mb-2 pt-2",children:"Convert to:"}),(0,r.jsx)("select",{value:s,onChange:e=>l(e.target.value),className:"border-2 border-primary-500 rounded-md text-primary-700 bg-primary-300 focus:outline-0 px-6 py-2 font-bold",children:b.map((e,t)=>(0,r.jsx)("option",{value:e.value,children:e.label},t))})]})]}),(0,r.jsxs)("div",{...v({className:"min-h-300 flex flex-wrap cursor-pointer relative text-center items-center justify-center p-4 mb-6 rounded border-2 border-dashed focus:outline-0"}),children:[(0,r.jsx)("input",{...y(),type:"im*"}),(0,r.jsx)(n(),{src:"/upload.png",alt:"upload",width:350,height:300}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xl font-medium text-gray-500 mb-3",children:j?"Drop file(s) here ...":"Drag’n’drop files here or click to upload."}),(0,r.jsxs)("p",{className:"text-md font-normal text-gray-400 ",children:["Drop files here or click"," ",(0,r.jsxs)(d(),{href:"/",onClick:e=>{e.preventDefault()},className:"text-primary-500",children:[" ","browser"]})," ","through your machine."]})]})]}),e.length?(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("div",{className:"flex md:grid gap-4 pr-3 mr-[-20px] grid-cols-1 md:grid-cols-2 lg:grid-cols-2 max-h-80 overflow-y-auto mb-5 ",children:z}),(0,r.jsxs)("div",{className:"flex justify-end mt-6 ",children:[(0,r.jsx)(g,{onClick:()=>{t([])},classNames:"bg-red-700 mr-4 text-red-100 border-red-300 hover:text-red-700 hover:bg-red-500 ",variant:"outlined",children:"Remove All"}),(0,r.jsx)(g,{variant:"contained",onClick:()=>{e.map(e=>{window.open(e.fileUrl)})},children:"Download All Files"})]})]}):null]})},v=()=>(0,r.jsx)("footer",{className:"h-12 font-body flex items-center",children:(0,r.jsxs)("p",{className:"text-xl w-screen sticky bottom-0 text-gray-600 bottom-0 text-center",children:["\xa9 ",new Date().getFullYear(),", Made with ❤️ by",(0,r.jsx)("span",{className:"font-alex ml-1 text-2xl text-primary-500 font-bold tracking-wide",children:"Prateek Saini"})]})}),y=()=>(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-primary-100 px-4 lg:px-40 pt-5",children:[(0,r.jsx)(l,{}),(0,r.jsx)(j,{}),(0,r.jsx)(v,{})]})}},function(e){e.O(0,[617,490,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);